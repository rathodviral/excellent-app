<div class="white-box">
  <div class="row">
    <div class="col s12">
      <div class="table-responsive">
        <!--<table id="tblSearch" class="table sourced-data" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger">
          <thead>
          <tr>
            <th>
              <input type="checkbox" class="filled-in" id="chk" />
              <label for="chk"></label>
            </th>
            <th class="text-left" width="150">Radio Station</th>
            <th>Frequency</th>
            <th>City</th>
            <th>Language</th>
            <th>Rank</th>
            <th class="nosort"><span class="hide-on-small-only">Rate per second</span><span
              class="show-on-small hide-on-med-and-up">Rate</span></th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let data of filteredData; let i = index">
            <td>
              <input type="checkbox" class="filled-in" id="chk{{i}}"/>
              <label for="chk{{i}}"></label>
            </td>
            <td class="text-left st-name"><a href="javascript:void(0)">{{data?.radiostation}}</a></td>
            <td>98.3</td>
            <td>{{data?.city}}</td>
            <td>{{data?.language}}</td>
            <td>2</td>
            <td>
              &lt;!&ndash;<a class="waves-effect waves-light btn-border" href="javascript:void(0)">Add to Plan</a><br> &ndash;&gt;
              <a href="javascript:void(0)">Login to View Rates</a>
            </td>
          </tr>
          <tr *ngIf="filteredData?.length === 0">
            <td colspan="8">
              No Data Found
            </td>
          </tr>
          </tbody>
        </table>-->
        <!-- <p-table *ngIf="filteredData?.length > 0;else noFilteredData" [columns]="cols" [value]="filteredData" [(selection)]="selectedData">
          <ng-template pTemplate="header" let-columns>
            <tr>
              <th style="width: 2.25em">
                <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
              </th>
              <th style="width: 2.25em">
                Radio Station
              </th>
              <th *ngFor="let col of columns" [pSortableColumn]="col.field">
                {{col.header}}
                <p-sortIcon [field]="col.field"></p-sortIcon>
              </th>
              <th class="nosort">
                <span class="hide-on-small-only">Rate</span>
                <span class="show-on-small hide-on-med-and-up">Rate</span>
              </th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-data let-columns="columns">
            <tr>
              <td>
                <p-tableCheckbox [value]="data"></p-tableCheckbox>
              </td>
              <td>
                <a href="javascript:void(0)" [routerLink]="['./detail', data['alias']]">{{data['productName']}}</a>
              </td>
              <td *ngFor="let col of columns">
                {{data[col.field]}}
              </td>
              <td>
                <p *ngIf="isTokenAvailable(); else tokenNot">{{data?.productOption[priceOption]?.optionPrice?.defaultPrice?.price}}</p>
                <ng-template #tokenNot>
                  <a href="javascript:void(0)" (click)="openLoginDialog(data)">Login to View Rates</a>
                </ng-template>
              </td>
            </tr>
          </ng-template>
        </p-table> -->
        <table *ngIf="dataSource?.data.length > 0;else noFilteredData" mat-table [dataSource]="dataSource" matSort
          matSortActive="productName" matSortDisableClear matSortDirection="asc" class="mat-elevation-z8">

          <ng-container matColumnDef="select">
            <th mat-header-cell *matHeaderCellDef>
              <mat-checkbox (change)="$event ? masterToggle() : null" [checked]="selection.hasValue() && isAllSelected()"
                [indeterminate]="selection.hasValue() && !isAllSelected()">
              </mat-checkbox>
            </th>
            <td mat-cell *matCellDef="let row">
              <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? checkBoxSelection(row) : null"
                [checked]="selection.isSelected(row)">
              </mat-checkbox>
            </td>
          </ng-container>

          <ng-container matColumnDef="productName">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Product Name </th>
            <td mat-cell *matCellDef="let element">
              <a href="javascript:void(0)" [routerLink]="['./', element['alias']]">{{element['productName']}}</a>
            </td>
          </ng-container>

          <ng-container matColumnDef="cityName">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> City </th>
            <td mat-cell *matCellDef="let element"> {{element.cityName}} </td>
          </ng-container>

          <ng-container matColumnDef="frequency">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Frequency </th>
            <td mat-cell *matCellDef="let element"> {{element.frequency}} </td>
          </ng-container>

          <ng-container matColumnDef="targetAudience">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Audience </th>
            <td mat-cell *matCellDef="let element"> {{element.targetAudience}} </td>
          </ng-container>
          <ng-container matColumnDef="price">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Price </th>
            <td mat-cell *matCellDef="let element">
              <p *ngIf="isTokenAvailable(); else tokenNot">{{element?.productOption[priceOption]?.optionPrice?.defaultPrice?.price}}</p>
              <ng-template #tokenNot>
                <a href="javascript:void(0)" (click)="openLoginDialog(element)">Login to View Rates</a>
              </ng-template>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="selection.toggle(row)">
          </tr>
        </table>
        <div class="col s12">
          <button style="text-align: center" (click)="loadFilterData()">Load More</button>
        </div>
        <ng-template #noFilteredData>
          <div class="col s12">
            <h5 style="text-align: center">No data found</h5>
          </div>
        </ng-template>
      </div>
    </div>
  </div>
</div>
<!-- <p-dialog [(visible)]="isLoginPopupDisplay" [showHeader]="false" [contentStyle]="{'padding':'0'}" [style]="{left:0}">
  <app-login (closeLoginPopup)="closeLoginDialog($event)"></app-login>
</p-dialog> -->